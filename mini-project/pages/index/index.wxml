<!--index.wxml-->
<view class="container" >
    <!-- tab导航栏 -->
    <!-- scroll-left属性可以控制滚动条位置 -->
    <!-- scroll-with-animation滚动添加动画过渡 -->
<!-- 顶部 -->
  <view style="display:flex;align-items:center;justify-content: center;">
    <!-- 用户 -->
    <view class="user-view" wx:if="{{address=='' || arriver==''}}">
        <cover-image class="user" src="../img/self.png" ></cover-image>
     </view>
     <view wx:else>
      <cover-image class="user" src="../img/other.png"  bindtap="reback"></cover-image>
     </view>
    <scroll-view scroll-x="true" class="nav" scroll-left="{{navScrollLeft}}" scroll-with-animation="{{true}}">
    
        <block wx:for="{{navData}}" wx:for-index="idx" wx:for-item="navItem" wx:key="idx">
          
            <view class="nav-item {{currentTab == idx ?'active':''}}"  data-current="{{idx}}" bindtap="switchNav">{{navItem.text}}</view>
        </block>        
    </scroll-view>
  </view>
    <!-- 页面内容 -->
    <swiper current="{{currentTab}}" bindchange="switchTab" style="height: 100%;">
      <!-- 快车 -->
      <swiper-item >
        <!--地图 -->
        <view class="section map_container" style="position:relative;">
            <map id="loactionMap" longitude="{{longitude}}" latitude="{{latitude}}" scale="17" show-location='true' style="width:{{windowWidth}}px; height:{{windowHeight*2/3}}px;" bindregionchange="regionChange" markers="{{markers}}" polyline="{{polyline}}" >
              <image style="width:40rpx;height:40rpx;z-index:30;position:fixed;left:{{windowWidth-30}}px;top:{{windowHeight/19}}px" src="../img/position.png" bindtap="localAddress"></image>
              
            </map>
            <!-- <cover-view style="position:absolute;top:200px;z-index:100;">
                 <cover-image class="" bindtap="" src="../img/position.png" style="width:30px;height:30px;"/>
            </cover-view> -->
           
        </view>
   
        <view class="text-view" wx:if="{{address=='' || arriver==''}}">
            <input type="text" placeholder="起始位置" class="start-pos" bindtap="getStartLocal" value="{{address}}"/>
            <input type="text" placeholder="目的地" bindtap="getStopLocal" class="arrive-pos" value="{{arriver}}"/>
        </view>
        <view wx:else>
        <view class="text-view2">
          <radio-group style="width:100%;">
            <view class="selType-view">
              <text class="selType">普通型</text>
              <text class="fail">一口价</text>
              <radio class="money">80</radio>
            </view>
            <view class="selType-view">
              <text class="selType">普通型</text>
              <text class="fail">一口价</text>
              <radio class="money">80</radio>
            </view>
            
          </radio-group>
          
        </view>
        <view style="display:flex;justify-content:space-evenly;font-size: 12px;">
          <view class="selector-view">
            <picker class='time-picker' mode="multiSelector" bindchange="bindStartMultiPickerChange" bindtap='pickerTap' bindcolumnchange="bindMultiPickerColumnChange" value="{{multiIndex}}" range="{{multiArray}}">
            <view>出发时间：{{multiArray[0][multiIndex[0]]+multiArray[1][multiIndex[1]]+' : '+multiArray[2][multiIndex[2]]}}</view>
            </picker>
          </view>
          <view class="selector-view">
            <view class="selector">换乘车人</view>
          </view>
          
        </view>
        <button bindtap="driving" style="width:100%;background-color: cornflowerblue;">呼叫{{nav}}</button>
       </view>
        
      </swiper-item>
      <!-- 出租车 -->
      <swiper-item>
        <view class="section map_container" style="position:relative;">
          <map id="" longitude="{{longitude}}" latitude="{{latitude}}" scale="17" show-location="true" style="width: 100%; height: 300px;" bindregionchange="regionChange" markers="{{markers}}" polyline="{{polyline}}" >
            <image style="width:40rpx;height:40rpx;z-index:30" src="../img/self.png"></image>
            
              <!-- </cover-view> -->
            <!-- </cover-view> -->
          </map>
          <cover-view style="position:absolute;top:200px;z-index:100;">
                 <cover-image class="" bindtap="localAddress" src="../img/position.png" style="width:30px;height:30px;"/>
            </cover-view>
           

        </view>
   
    <view class="text-view" wx:if="{{address=='' || arriver==''}}">
        <input type="text" placeholder="起始位置" class="start-pos" bindtap="getStartLocal" value="{{address}}"/>
        <input type="text" placeholder="目的地" bindtap="getStopLocal" class="arrive-pos" value="{{arriver}}"/>
    </view>
    <view wx:else class="text-view2">
      <radio-group style="width:100%;">
        <view class="selType-view">
          <text class="selType">普通型</text>
          <text class="fail">一口价</text>
          <radio class="money">80</radio>
        </view>
        <view class="selType-view">
          <text class="selType">普通型</text>
          <text class="fail">一口价</text>
          <radio class="money">80</radio>
        </view>
      </radio-group>
    </view>

      </swiper-item>
      <!-- 顺风车 -->
      <swiper-item>

        <view class="section map_container">
        <map id="" longitude="{{longitude}}" latitude="{{latitude}}" scale="17" show-location="true" style="width: 100%; height: 300px;" bindregionchange="regionChange" markers="{{markers}}" polyline="{{polyline}}" >
        
      
        
            
        </map>
        <cover-view style="width:30px;height:30px;position:fixed;left:{{windowWidth-50}}px;top: {{windowHeight/9}}px;z-index:100;">
            <cover-image class="" bindtap="localAddress" src="../img/position.png" />
        </cover-view>
      </view>
   
    <view class="text-view" wx:if="{{address=='' || arriver==''}}">
        <input type="text" placeholder="起始位置" class="start-pos" bindtap="getStartLocal" value="{{address}}"/>
        <input type="text" placeholder="目的地" bindtap="getStopLocal" class="arrive-pos" value="{{arriver}}"/>
    </view>
    <view wx:else class="text-view2">
      <radio-group style="width:100%;">
        <view class="selType-view">
          <text class="selType">普通型</text>
          <text class="fail">一口价</text>
          <radio class="money">80</radio>
        </view>
        <view class="selType-view">
          <text class="selType">普通型</text>
          <text class="fail">一口价</text>
          <radio class="money">80</radio>
        </view>
      </radio-group>
    </view>
      </swiper-item>
      <!-- 专车 -->
      <swiper-item>
        <view class="section map_container">
          <map id="" longitude="{{longitude}}" latitude="{{latitude}}" scale="17" show-location="true" style="width: 100%; height: 300px;" bindregionchange="regionChange" markers="{{markers}}" polyline="{{polyline}}" >
          
          </map>
          <cover-view style="width:30px;height:30px;position:fixed;left:{{windowWidth-50}}px;top: {{windowHeight/9}}px;z-index:100;">
              <cover-image class="" bindtap="localAddress" src="../img/position.png" />
          </cover-view>
      </view>
   
    <view class="text-view" wx:if="{{address=='' || arriver==''}}">
        <input type="text" placeholder="起始位置" class="start-pos" bindtap="getStartLocal" value="{{address}}"/>
        <input type="text" placeholder="目的地" bindtap="getStopLocal" class="arrive-pos" value="{{arriver}}"/>
    </view>
    <view wx:else class="text-view2">
      <radio-group style="width:100%;">
        <view class="selType-view">
          <text class="selType">普通型</text>
          <text class="fail">一口价</text>
          <radio class="money">80</radio>
        </view>
        <view class="selType-view">
          <text class="selType">普通型</text>
          <text class="fail">一口价</text>
          <radio class="money">80</radio>
        </view>
      </radio-group>
    </view>
      </swiper-item>
      <!-- 代驾 -->
      <swiper-item>
        <view class="section map_container">
          <map id="" longitude="{{longitude}}" latitude="{{latitude}}" scale="17" show-location="true" style="width: 100%; height: 300px;" bindregionchange="regionChange" markers="{{markers}}" polyline="{{polyline}}" >
          
      
          </map>
          <cover-view style="width:30px;height:30px;position:fixed;left:{{windowWidth-50}}px;top: {{windowHeight/9}}px;z-index:100;">
              <cover-image class="" bindtap="localAddress" src="../img/position.png" />
        </cover-view>
        </view>
   
    <view class="text-view" wx:if="{{address=='' || arriver==''}}">
        <input type="text" placeholder="起始位置" class="start-pos" bindtap="getStartLocal" value="{{address}}"/>
        <input type="text" placeholder="目的地" bindtap="getStopLocal" class="arrive-pos" value="{{arriver}}"/>
    </view>
    <view wx:else class="text-view2">
      <radio-group style="width:100%;">
        <view class="selType-view">
          <text class="selType">普通型</text>
          <text class="fail">一口价</text>
          <radio class="money">80</radio>
        </view>
        <view class="selType-view">
          <text class="selType">普通型</text>
          <text class="fail">一口价</text>
          <radio class="money">80</radio>
        </view>
      </radio-group>
    </view>
      </swiper-item>
      <!-- 优惠来了 -->
      <swiper-item>
      </swiper-item>
    </swiper>



  
</view>
